"use strict";(self.webpackChunkbricks_llm_docs=self.webpackChunkbricks_llm_docs||[]).push([[764],{4564:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var n=i(5893),s=i(1151);const r={sidebar_position:3},o="BricksAI API Endpoints",d={id:"api-endpoints",title:"BricksAI API Endpoints",description:"BricksAI provides a RESTful API to manage your proxy secret keys and providers. You can use the API to list, create, and update proxy secret keys and providers programmatically.",source:"@site/docs/api-endpoints.mdx",sourceDirName:".",slug:"/api-endpoints",permalink:"/docs/api-endpoints",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api-endpoints.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"BricksLLM error responses",permalink:"/docs/basic-features/error-responses"},next:{title:"Integrations",permalink:"/docs/category/integrations"}},c={},a=[{value:"Authorization",id:"authorization",level:2},{value:"Providers",id:"providers",level:2},{value:"List Providers",id:"list-providers",level:3},{value:"Response",id:"response",level:4},{value:"Proxy Secret Keys",id:"proxy-secret-keys",level:2},{value:"Fetch all Proxy Secret Keys",id:"fetch-all-proxy-secret-keys",level:3},{value:"Search parameters",id:"search-parameters",level:4},{value:"Response",id:"response-1",level:4},{value:"Fetch one Proxy Secret Keys",id:"fetch-one-proxy-secret-keys",level:3},{value:"Search parameters",id:"search-parameters-1",level:4},{value:"Response",id:"response-2",level:4},{value:"Create a Proxy Secret Key",id:"create-a-proxy-secret-key",level:3},{value:"Request body",id:"request-body",level:4},{value:"Response",id:"response-3",level:4},{value:"Update a Proxy Secret Key",id:"update-a-proxy-secret-key",level:3},{value:"Request body",id:"request-body-1",level:4},{value:"Response",id:"response-4",level:4}];function l(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"bricksai-api-endpoints",children:"BricksAI API Endpoints"}),"\n",(0,n.jsx)(t.p,{children:"BricksAI provides a RESTful API to manage your proxy secret keys and providers. You can use the API to list, create, and update proxy secret keys and providers programmatically."}),"\n",(0,n.jsx)(t.h2,{id:"authorization",children:"Authorization"}),"\n",(0,n.jsxs)(t.p,{children:["To authorize your requests, you need to include your BricksAI secret key in the ",(0,n.jsx)(t.code,{children:"Authorization"})," header. You can find your BricksAI secret key by navigating to the ",(0,n.jsx)(t.strong,{children:"Settings"}),' page. Under "Developer access", click "Enable". Then you will see your BricksAI secret key.']}),"\n",(0,n.jsx)(t.h2,{id:"providers",children:"Providers"}),"\n",(0,n.jsx)(t.h3,{id:"list-providers",children:"List Providers"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-http",children:"GET https://trybricks.ai/api/v1/providers\n"})}),"\n",(0,n.jsx)(t.h4,{id:"response",children:"Response"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'[\n  {\n    "name": "Some descriptive name for the provider",\n    "id": "some-provider-id",\n    "createdAt": 1707864319,\n    "updatedAt": 1707864319,\n    "provider": "openai",\n    "allowedModels": [] // Not used yet, can be ignored\n  }\n]\n'})}),"\n",(0,n.jsx)(t.h2,{id:"proxy-secret-keys",children:"Proxy Secret Keys"}),"\n",(0,n.jsx)(t.h3,{id:"fetch-all-proxy-secret-keys",children:"Fetch all Proxy Secret Keys"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-http",children:"GET https://trybricks.ai/api/v1/secret-keys?includeMetrics=true&start=<start>&end=<end>\n"})}),"\n",(0,n.jsx)(t.h4,{id:"search-parameters",children:"Search parameters"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"includeMetrics"}),(0,n.jsx)(t.td,{children:"optional"}),(0,n.jsx)(t.td,{children:"boolean, if set to true, response will include aggregated usage metrics"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"start"}),(0,n.jsx)(t.td,{children:"required if includeMetrics is true"}),(0,n.jsx)(t.td,{children:"number, start time in seconds since epoch"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"end"}),(0,n.jsx)(t.td,{children:"required if includeMetrics is true"}),(0,n.jsx)(t.td,{children:"number, end time in seconds since epoch"})]})]})]}),"\n",(0,n.jsx)(t.h4,{id:"response-1",children:"Response"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'[\n  {\n    "name": "Some descriptive name for the key",\n    "keyId": "some-key-id", // Unique identifier of the key\n    "tags": ["clskya3uu0005ye8ggt5bp775"], // Organization ID\n    "createdAt": 1708065781,\n    "updatedAt": 1708065781,\n    "revoked": false,\n    "revokedReason": "",\n    "costLimitInUsd": 100, // Cost limit over lifetime\n    "costLimitInUsdOverTime": 100, // Cost limit per time unit\n    "costLimitInUsdUnit": "mo", // Cost limit time unit\n    "rateLimitOverTime": 10, // Rate limit per time unit\n    "rateLimitUnit": "h", // Rate limit time unit\n    "ttl": "1h", // Time to live\n    "settingIds": ["some-provider-id"],\n    "shouldLogRequest": false, // Whether to request body is logged by BricksAI\n    "shouldLogResponse": false, // weather response body is logged by BricksAI\n    "metrics": {\n      // metrics of the secret key between `start` and `end`\n      "numberOfRequests": 0,\n      "successCount": 0,\n      "costInUsd": 0,\n      "latencyInMs": 0,\n      "promptTokenCount": 0,\n      "completionTokenCount": 0\n    }\n  }\n]\n'})}),"\n",(0,n.jsx)(t.h3,{id:"fetch-one-proxy-secret-keys",children:"Fetch one Proxy Secret Keys"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-http",children:"GET https://trybricks.ai/api/v1/secret-keys/:keyId?includeMetrics=true&start=<start>&end=<end>&increment=<increment>\n"})}),"\n",(0,n.jsx)(t.h4,{id:"search-parameters-1",children:"Search parameters"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Required"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"includeMetrics"}),(0,n.jsx)(t.td,{children:"optional"}),(0,n.jsx)(t.td,{children:"boolean, if set to true, response will include usage metrics as a time series"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"start"}),(0,n.jsx)(t.td,{children:"required if includeMetrics is true"}),(0,n.jsx)(t.td,{children:"number, start time in seconds since epoch"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"end"}),(0,n.jsx)(t.td,{children:"required if includeMetrics is true"}),(0,n.jsx)(t.td,{children:"number, end time in seconds since epoch"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"increment"}),(0,n.jsx)(t.td,{children:"required if includeMetrics is true"}),(0,n.jsx)(t.td,{children:"number, increment between each data point in the time series in seconds"})]})]})]}),"\n",(0,n.jsx)(t.h4,{id:"response-2",children:"Response"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'[\n  {\n    "name": "Some descriptive name for the key",\n    "keyId": "some-key-id", // Unique identifier of the key\n    "tags": ["clskya3uu0005ye8ggt5bp775"], // Organization ID\n    "key": "hashed-version-of-the-key", // Hashed value of the proxy secret key, can be ignored\n    "createdAt": 1708065781,\n    "updatedAt": 1708065781,\n    "revoked": false,\n    "revokedReason": "",\n    "costLimitInUsd": 100, // Cost limit over lifetime\n    "costLimitInUsdOverTime": 100, // Cost limit per time unit\n    "costLimitInUsdUnit": "mo", // Cost limit time unit\n    "rateLimitOverTime": 10, // Rate limit per time unit\n    "rateLimitUnit": "h", // Rate limit time unit\n    "ttl": "1h", // Time to live\n    "settingIds": ["some-provider-id"],\n    "shouldLogRequest": false, // Whether to request body is logged by BricksAI\n    "shouldLogResponse": false, // weather response body is logged by BricksAI\n    "dataPoints": [\n      // A time series of metrics\n      {\n        "timeStamp": 1706774400, // Time in seconds since epoch\n        "numberOfRequests": 1, // Number of requests during this increment\n        "successCount": 1, // Number of successful requests during this increment\n        "costInUsd": 100, // Cost of requests during this increment\n        "latencyInMs": 722, // Median latency during this increment\n        "promptTokenCount": 18, // Number of prompt tokens during this increment\n        "completionTokenCount": 9 // Number of completion tokens during this increment\n      }\n    ],\n    "latencyInMsMedian": 722, // Median latency over the entire time period\n    "latencyInMs99th": 722 // 99th percentile latency over the entire time period\n  }\n]\n'})}),"\n",(0,n.jsx)(t.h3,{id:"create-a-proxy-secret-key",children:"Create a Proxy Secret Key"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-http",children:"POST https://trybricks.ai/api/v1/secret-keys\n"})}),"\n",(0,n.jsx)(t.h4,{id:"request-body",children:"Request body"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "name": "Some name", // Required, some descriptive name for the key\n  "providerSettingIds": ["some-provider-id"], // Required, specify which provider settings this key has access to\n  "ttl": "1h", // Optional, time to live, must be a positive integer followed by s, m, or h\n  "rateLimitOverTime": 10, // Optional, rate limit per time unit, as specified in "rateLimitUnit"\n  "rateLimitUnit": "h", // Optional, rate limit time unit, must be s, m, or h\n  "costLimitInUsdPerMonth": 100, // Optional, cost limit per month\n  "costLimitInUsdLifetime": 100 // Optional, cost limit over lifetime\n}\n'})}),"\n",(0,n.jsx)(t.h4,{id:"response-3",children:"Response"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "id": "some-key-id", // Unique identifier of the key\n  "name": "Some name",\n  "organizationId": "some-organization-id",\n  "key": "some-proxy-secret-key" // Proxy secret key, make sure to store it securely as you won\'t see it again\n}\n'})}),"\n",(0,n.jsx)(t.h3,{id:"update-a-proxy-secret-key",children:"Update a Proxy Secret Key"}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"Updates are not immedately effective. It may take a few seconds for the changes to take effect."})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-http",children:"PATCH https://trybricks.ai/api/v1/secret-keys/[keyId]\n"})}),"\n",(0,n.jsx)(t.h4,{id:"request-body-1",children:"Request body"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "name": "Some name", // Optional, some descriptive name for the key\n  "providerSettingIds": ["some-provider-id"], // Optional, specify which provider settings this key has access to\n  "revoked": true // Optional, whether the key is revoked\n  "rateLimitOverTime": 10, // Optional, rate limit per time unit, as specified in "rateLimitUnit"\n  "rateLimitUnit": "h", // Optional, rate limit time unit, must be s, m, or h\n  "costLimitInUsdPerMonth": 100, // Optional, cost limit per month\n  "costLimitInUsdLifetime": 100 // Optional, cost limit over lifetime\n}\n'})}),"\n",(0,n.jsx)(t.h4,{id:"response-4",children:"Response"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",children:"success\n"})})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},1151:(e,t,i)=>{i.d(t,{Z:()=>d,a:()=>o});var n=i(7294);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);